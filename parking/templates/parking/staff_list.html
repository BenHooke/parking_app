{% extends 'parking/base.html' %}
{% load crispy_forms_tags %}
{% block title %}Staff{% endblock %}

{% block content %}

<div class='row'>
  <div class='col-12 col-lg-4'>
    <br>
    <br>
    <br>
    <div class='card card-body'>
      <a class='btn btn-primary' href="{% url 'register_staff' %}">Register Staff Member</a>
    </div>
  </div>

  <div class='col-12 col-lg-8'>
    <br>
    <h3>Staff</h3>
    <hr>
    <div class='card card-body'>
      <div class='table-responsive'>
        <table class='table table-sm '>
          <tr>
            <th>Name</th>
            <th>Phone</th>
            <th>Email</th>
            <th>On Shift</th>
          </tr>
          {% for staff in staff %}
          <tr>
            <td>{{staff.name}}</td>
            <td>{{staff.phone}}</td>
            <td>{{staff.email}}</td>
            <td>
              <form method='POST'>
                {% csrf_token %}
                  <input type='checkbox' name='staff_{{ staff.id }}' {% if staff.is_working %}checked{% endif %}>
                </td>
              </tr>
              {% endfor %}
            </table>
            <div class='d-flex justify-content-end me-3 me-lg-5'>
              <button type='submit' class='btn btn-sm btn-primary'>Save</button>
            </div>
          </form>
      </div>
    </div>
  </div>
</div>

{% endblock %}